<!DOCTYPE html>
<html lang="en-US">
    <head>
        <title>All Reviews | Matcha Majesty</title>
        <link rel="icon" type="image/x-icon" href="assets2/Logo/favicon.png">
        <link rel="stylesheet" type="text/css" href="style.css">
        <script type="text/javascript" src="script.js"></script>

        <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
        integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
        crossorigin=""/>
        <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
        integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
        crossorigin=""></script>

        <meta name="google-adsense-account" content="ca-pub-5708330331910324"> <!-- Google Adsense Verification -->

        <meta name="description" content="NYC and NJ Matcha Reviews.">
        <meta name="keywords" content="matcha, latte, reviews, umami, japanese tea, 抹茶, まっちゃ">

        <meta name="viewport" content="width=device-width, initial-scale=1.0">
    </head>

    <body>
        <div class="hero-container">
            <div class="hero-image">
                <div class="nav">
                    <ul class="nav-links">
                        <li><a href="index.html">Home</a></li>
                        <li><a class="active" href="reviews.html">Reviews</a></li>
                    </ul>
                    <ul class="nav-links">
                        <li><a id="themeColor" style="cursor: pointer;" onclick="updateTheme()">Light Mode</a></li>
                    </ul>
                </div>
                <div class="hero-text">
                    <h1>MATCHA MAJESTY</h1>
                    <h2>Your guide in finding the best cup of Matcha.</h2>
                </div>
            </div>
        </div>
        <div class="body-text">
            <h1 style="text-align: center;">All Reviews</h1>
        </div>
    
        <div class="filter">
            <div class="filter-grid">
                <div class="filter-grid-head">
                    <h3>Sort by...</h3>
                </div>
                <div class="filter-grid-star">
                <h4>Star Rating</h4>
                <div class="stars">
                    <div class="checkbox">
                        <input type="checkbox" rel="5s" onchange="change();">5 Stars
                        <br>
                        <input type="checkbox" rel="4s" onchange="change();">4 Stars
                        <br>
                        <input type="checkbox" rel="3s" onchange="change();">3 Stars
                        <br>
                        <input type="checkbox" rel="2s" onchange="change();">2 Stars
                        <br>
                        <input type="checkbox" rel="1s" onchange="change();">1 Stars
                    </div>
                </div>
                </div>

                <div class="filter-grid-price">
                <h4>Price</h4>
                <div class="price">
                    <div class="checkbox">
                        <input type="checkbox" rel="$$$" onchange="change();">$7-8+ <!--$7/$8-->
                        <br>
                        <input type="checkbox" rel="$$" onchange="change();">$5-6.99 <!--$5/$6-->
                        <br>
                        <input type="checkbox" rel="$" onchange="change();">$3-4.99 <!--$3/$4-->
                    </div>
                </div>
                </div>

                <div class="filter-grid-flavor">
                <h4>Flavor</h4>
                <div class="flavor">
                    <div class="checkbox">
                        <input type="checkbox" rel="umami" onchange="change();">Umami
                        <br>
                        <input type="checkbox" rel="nutty" onchange="change();">Nutty
                        <br>
                        <input type="checkbox" rel="sweet" onchange="change();">Sweet
                        <br>
                        <input type="checkbox" rel="mild" onchange="change();">Mild
                    </div>
                </div>
                </div>
            </div>
        </div>




        <!-- Create Star SVG -->
        <section style="display: none;">
        <svg height="24px" width="24px" version="1.1" id="svg-star" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 47.94 47.94" xml:space="preserve" fill="#000000">
            <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
            <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
            <g id="SVGRepo_iconCarrier"> 
                <path id="svg-star" style="fill:#f0b62d;" d="M26.285,2.486l5.407,10.956c0.376,0.762,1.103,1.29,1.944,1.412l12.091,1.757 c2.118,0.308,2.963,2.91,1.431,4.403l-8.749,8.528c-0.608,0.593-0.886,1.448-0.742,2.285l2.065,12.042 c0.362,2.109-1.852,3.717-3.746,2.722l-10.814-5.685c-0.752-0.395-1.651-0.395-2.403,0l-10.814,5.685 c-1.894,0.996-4.108-0.613-3.746-2.722l2.065-12.042c0.144-0.837-0.134-1.692-0.742-2.285l-8.749-8.528 c-1.532-1.494-0.687-4.096,1.431-4.403l12.091-1.757c0.841-0.122,1.568-0.65,1.944-1.412l5.407-10.956 C22.602,0.567,25.338,0.567,26.285,2.486z"></path>
            </g>
        </svg>
        </section>



        <div class="review-list"></div>
        <script type="module" src="generateReviews.js"></script>



        <!-- AD SPACE -->
        <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5708330331910324"
            crossorigin="anonymous"></script>
        <!-- banner-ad -->
        <ins class="adsbygoogle"
            style="display:block"
            data-ad-client="ca-pub-5708330331910324"
            data-ad-slot="6285450821"
            data-ad-format="auto"
            data-full-width-responsive="true"></ins>
        <script>
            (adsbygoogle = window.adsbygoogle || []).push({});
        </script>

        <div class="footer">
            <div class="footer-logo">
                <img src="assets2/Logo/MatchaMajestyLogo.PNG" style="max-width: 180px;"/>
            </div>
            <div class="footer-text">
                <p>All rights reserved.</p>
                <p>Header image by Matcha & CO</p>
                <br>
                <p>Contact me at MatchaMajesty@gmail.com</p>
            </div>
        </div>
    </body>
</html>


<script>

function change(){
    let starsCheckBox = document.querySelectorAll(".stars input[type='checkbox']");
    let priceCheckBox = document.querySelectorAll(".price input[type='checkbox']");
    let flavorCheckBox = document.querySelectorAll(".flavor input[type='checkbox']");
    let filters = {
        stars: getClassOfCheckedCheckboxes(starsCheckBox),
        price: getClassOfCheckedCheckboxes(priceCheckBox),
        flavor: getClassOfCheckedCheckboxes(flavorCheckBox)
    };
    filterResults(filters);
}

function getClassOfCheckedCheckboxes(checkboxes){
    let classes = [];
    
    if (checkboxes && checkboxes.length > 0) {
        for (let i = 0; i < checkboxes.length; i++) {
            let cb = checkboxes[i];
            if (cb.checked) {
                classes.push(cb.getAttribute("rel"));
            }
        }
    }
    return classes;
}

function filterResults(filters) {
  let rElems = document.querySelectorAll(".review-list > div");
  let hiddenElems = [];

  if (!rElems || rElems.length <= 0) {
    return;
  }

  for (let i = 0; i < rElems.length; i++) {
    let el = rElems[i];

    if (filters.stars.length > 0) {
      let isHidden = true;

      for (let j = 0; j < filters.stars.length; j++) {
        let filter = filters.stars[j];

        if (el.classList.contains(filter)) {
          isHidden = false;
          break;
        }
      }

      if (isHidden) {
        hiddenElems.push(el);
      }
    }

    if (filters.price.length > 0) {
      let isHidden = true;

      for (let j = 0; j < filters.price.length; j++) {
        let filter = filters.price[j];

        if (el.classList.contains(filter)) {
          isHidden = false;
          break;
        }
      }

      if (isHidden) {
        hiddenElems.push(el);
      }
    }

    if (filters.flavor.length > 0) {
      let isHidden = true;

      for (let j = 0; j < filters.flavor.length; j++) {
        let filter = filters.flavor[j];

        if (el.classList.contains(filter)) {
          isHidden = false;
          break;
        }
      }

      if (isHidden) {
        hiddenElems.push(el);
      }
    }
  }

  for (let i = 0; i < rElems.length; i++) {
    rElems[i].style.display = "block";
  }

  if (hiddenElems.length <= 0) {
    return;
  }

  for (let i = 0; i < hiddenElems.length; i++) {
    hiddenElems[i].style.display = "none";
  }
}

</script>